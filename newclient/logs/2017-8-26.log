
[19:31:24]SHENZHEBEI|<pre><code class="lang-cpp">#include &lt;bits/stdc++.h&gt;<br>#define N 100020<br>#define int long long<br>#define ll long long<br>using namespace std;<br>inline int read(){<br>    int x=0,f=1;char ch=getchar();<br>    while(ch&gt;&#39;9&#39;||ch&lt;&#39;0&#39;)ch==&#39;-&#39;&amp;&amp;(f=0)||(ch=getchar());<br>    while(ch&lt;=&#39;9&#39;&amp;&amp;ch&gt;=&#39;0&#39;)x=(x&lt;&lt;3)+(x&lt;&lt;1)+ch-&#39;0&#39;,ch=getchar();<br>    return f?x:-x;<br>}<br>int c[N], n;<br>int ask(int x){<br>    int ans = 0;<br>    for(;x&lt;=n;x+=x&amp;-x)ans+=c[x];<br>    return ans;<br>}<br>void add(int x, int y){<br>    for(;x;x^=x&amp;-x)c[x]+=y;<br>}<br>int c_[N];<br>int ask_(int x){<br>    int ans = 0;<br>    for(;x;x^=x&amp;-x)ans+=c_[x];<br>    return ans;<br>}<br>void add_(int x, int y){<br>    for(;x&lt;=n;x+=x&amp;-x)c_[x]+=y;<br>}<br>int a[N], b[N], ans, a_[N], b_[N];<br>signed main(){<br>    n = read();<br>    for(int i = 1; i &lt;= n; i++) a_[i] = read();<br>    for(int i = 1; i &lt;= n; i++) b_[i] = read();<br>    for(int i = 1; i &lt;= n; i++) a[a_[i]] = i;<br>    for(int i = 1; i &lt;= n; i++) b[i] = a[b_[i]];<br>    for(int i = 1; i &lt;= n; i++){<br>        int x = ask(b[i]); add(b[i], 1);<br>        ans += x; add_(b[i], x); add_(b[i]+1, -x);<br>    }<br>    int sum = ans;<br>    for(int i = n; i; i--){<br>        int x = ask_(b[i]); add_(b[i], -x); add_(b[i]+1, x);<br>        add_(1, 1); add_(b[i], -1); sum = min(sum, ans += b[i]-1-x);<br>    }<br>    ans = 0;<br>    memset(c, 0, sizeof(int)*N);<br>    memset(c_, 0, sizeof(int)*N);<br>    for(int i = 1; i &lt;= n; i++) a[b_[i]] = i;<br>    for(int i = 1; i &lt;= n; i++) b[i] = a[a_[i]];<br>    for(int i = 1; i &lt;= n; i++){<br>        int x = ask(b[i]); add(b[i], 1);<br>        ans += x; add_(b[i], x); add_(b[i]+1, -x);<br>    }<br>    int sum2 = ans;<br>    for(int i = n; i; i--){<br>        int x = ask_(b[i]); add_(b[i], -x); add_(b[i]+1, x);<br>        add_(1, 1); add_(b[i], -1); sum = min(sum, ans += b[i]-1-x);<br>    }<br><br><br>    printf(&quot;%lld\n&quot;, min(sum, sum2));<br>    return 0;<br>}<br></code></pre>
[19:43:14]jzqjzq|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[19:43:19]SHENZHEBEI|<p><img src="/img/huaji.png" alt="滑稽"></p>
[19:43:20]jzqjzq|<p>@SHENZHEBEI </p>
[19:43:26]SHENZHEBEI|<p><img src="/img/huaji.png" alt="滑稽"></p>
[19:43:28]SHENZHEBEI|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[19:45:11]jzqjzq|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[19:46:08]SHENZHEBEI|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[19:46:47]SHENZHEBEI|<p><img src="/img/huaji.png" alt="rotate"><img src="/img/huaji.png" alt="rotate"><img src="/img/huaji.png" alt="rotate"></p>
[19:48:30]jzqjzq|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[20:05:38]SHENZHEBEI|<p><img src="/img/huaji.png" alt="rotate"><img src="/img/huaji.png" alt="rotate"><img src="/img/huaji.png" alt="rotate"></p>
[20:48:20]SW_Wind|<h1 id="-">施氏食狮史</h1><p>石室诗士施氏，嗜狮，誓食十狮。施氏时时适市视狮。十时，适十狮适市。是时，适施氏适市。施氏视是十狮，恃矢势，使是十狮逝世。氏拾是十狮尸，适石室。石室湿，氏使侍拭石室。石室拭，氏始试食是十狮。食时，始识是十狮尸，实十石狮。试释是事。</p>
[20:48:45]SW_Wind|<h1 id="-">施氏食狮史</h1><p>　　石室诗士施氏，嗜狮，誓食十狮。施氏时时适市视狮。十时，适十狮适市。是时，适施氏适市。施氏视是十狮，恃矢势，使是十狮逝世。氏拾是十狮尸，适石室。石室湿，氏使侍拭石室。石室拭，氏始试食是十狮。食时，始识是十狮尸，实十石狮。试释是事。</p>
[21:49:59]SW_Wind|<pre><code class="lang-bash">curl &#39;http://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=1108&#39; -H &#39;Accept-Encoding: gzip, deflate&#39; -H &#39;Accept-Language: zh-CN,zh-TW;q=0.8,zh;q=0.6,en-US;q=0.4,en;q=0.2&#39; -H &#39;Upgrade-Insecure-Requests: 1&#39; -H &#39;User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36&#39; -H &#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39; -H &#39;Referer: http://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=1108&amp;page=8&#39; -H &#39;Cookie: lastlang=1; UM_distinctid=15de4b1aaf0127-0afbda45529bba-5c1b3517-15f900-15de4b1aaf1ab; PHPSESSID=egbr61n0n02ihf0sma5kppdfv1; CNZZDATA2982771=cnzz_eid%3D1459358719-1502776731-%26ntime%3D1503751665&#39; -H &#39;Connection: keep-alive&#39; -H &#39;Cache-Control: max-age=0&#39; --compressed ;<br>curl &#39;http://www.lydsy.com/JudgeOnline/include/hoj.css&#39; -H &#39;Referer: http://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=1108&#39; -H &#39;User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36&#39; --compressed ;<br>curl &#39;http://www.lydsy.com/JudgeOnline/image/logo.png&#39; --compressed ;<br>curl &#39;http://www.lydsy.com/JudgeOnline/image/background.jpg&#39; --compressed ;<br>curl &#39;http://s21.cnzz.com/stat.php?id=2982771&amp;web_id=2982771&#39; --compressed ;<br>curl &#39;http://c.cnzz.com/core.php?web_id=2982771&amp;t=z&#39; --compressed ;<br>curl &#39;http://hzs21.cnzz.com/stat.htm?id=2982771&amp;r=http%3A%2F%2Fwww.lydsy.com%2FJudgeOnline%2Fwttl%2Fthread.php%3Ftid%3D1108%26page%3D8&amp;lg=zh-cn&amp;ntime=1503751665&amp;cnzz_eid=1459358719-1502776731-&amp;showp=1600x900&amp;t=%E5%A4%A7%E8%A7%86%E9%87%8E%E5%9C%A8%E7%BA%BF%E6%B5%8B%E8%AF%84-%E6%AC%A2%E8%BF%8E%E6%82%A8&amp;umuuid=15de4b1aaf0127-0afbda45529bba-5c1b3517-15f900-15de4b1aaf1ab&amp;h=1&amp;rnd=274535262&#39; -H &#39;Accept-Encoding: gzip, deflate&#39; -H &#39;Accept-Language: zh-CN,zh-TW;q=0.8,zh;q=0.6,en-US;q=0.4,en;q=0.2&#39; -H &#39;User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36&#39; -H &#39;Accept: image/webp,image/apng,image/*,*/*;q=0.8&#39; -H &#39;Referer: http://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=1108&#39; -H &#39;Cookie: cna=KCYZEuFq+UECAT2u164WCg/r&#39; -H &#39;Connection: keep-alive&#39; --compressed<br></code></pre>