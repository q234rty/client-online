
[13:06:54]SW_Wind|<p>给你们看看T2的std</p>
[13:07:03]SW_Wind|<pre><code class="lang-cpp">#include&lt;cstdio&gt;<br>#include&lt;memory.h&gt;<br>#include&lt;algorithm&gt;<br>#define ll long long<br>#define For(i,j,k)  for(ll i=j;i&lt;=k;++i)<br>#define FOr(i,j,k)  for(ll i=j;i&gt;=k;--i)<br>using namespace std;<br>inline ll read(){   ll x=0,f=1;char ch=getchar();   while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;){if(ch==&#39;-&#39;)f=-1;ch=getchar();}  while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;){x=x*10+ch-&#39;0&#39;;ch=getchar();}  return x*f; }<br>inline void wrote(ll x){    if (x&lt;0) putchar(&#39;-&#39;),x=-x; if (x&gt;=10) wrote(x/10);   putchar(x%10+&#39;0&#39;);  }<br>inline void writeln(ll x){ wrote(x);   puts(&quot;&quot;);   }<br>ll f[100][2][2][2][2],bin[100],a[100],b[100],L,R,jzq[100][2][2];<br>inline bool pd(ll flag,ll has,ll cho){  return has==cho?flag:has&lt;cho;    }<br>inline void ppt(ll &amp;ans,bool flg1,bool flg2,bool flg3,bool flg4,ll sum){<br>    if ((!flg1&amp;&amp;flg3)||(!flg2&amp;&amp;flg4))    return;<br>    ans+=sum;<br>}<br>inline ll dp(ll len){<br>    memset(f,0,sizeof f);   memset(jzq,0,sizeof jzq);   jzq[51][0][0]=1;<br>    FOr(i,50,len+1) For(myy,0,1)    For(lzz,0,1)    For(j,0,(myy|a[i])) For(k,0,(lzz|b[i])) if (!(j^k)) jzq[i][(j&lt;a[i])|myy][(k&lt;b[i])|lzz]+=jzq[i+1][myy][lzz];<br>    ll ans=0;<br>    For(myy,0,1)    For(lzz,0,1)<br>    For(i,0,(a[len]|myy))   For(j,0,(b[len]|lzz))   For(k,0,1)  For(l,0,1)<br>        if (((i^j)==(k^l))&amp;&amp;(i^j==1))   f[0][(a[len]&gt;i)|myy][(b[len]&gt;j)|lzz][a[0]&lt;k][b[0]&lt;l]+=jzq[len+1][myy][lzz];<br>    ll x=1,y=len-1,now=0,zyy,szb;<br>    while(x&lt;y){<br>        ++now;<br>        For(flg1,0,1)   For(flg2,0,1)   For(flg3,0,1)   For(flg4,0,1)   For(i,0,(flg1|a[y]))    For(j,0,(flg2|b[y]))    For(k,0,1)  For(l,0,1)<br>        if (i^j==k^l)   f[now][flg1|(a[y]&gt;i)][flg2|(b[y]&gt;j)][pd(flg3,a[x],k)][pd(flg4,b[x],l)]+=f[now-1][flg1][flg2][flg3][flg4];<br>        ++x;    --y;<br>    }<br>    if (x==y)   For(u1,0,1) For(u2,0,1) For(u3,0,1) For(u4,0,1) For(i,0,1)  For(j,0,1)  ppt(ans,u1,u2,pd(u3,a[x],i),pd(u4,b[x],j),f[now][u1][u2][u3][u4]);<br>    else{<br>        --x;    ++y;<br>        For(u1,0,1) For(u2,0,1) For(u3,0,1) For(u4,0,1) ppt(ans,u1,u2,u3,u4,f[now][u1][u2][u3][u4]);<br>    }<br>    return ans;<br>}<br>inline ll calc(ll x,ll y){<br>    if (x&lt;0||y&lt;0) return 0;<br>    if (x&gt;y) swap(x,y);  ll ans=0;<br>    if (x==y)   ans=x&amp;1?(x+1)*2:x*2+1;<br>    else ans=(x+1)*2;<br>    For(i,0,50) a[i]=(x&amp;bin[i])&gt;0,b[i]=(y&amp;bin[i])&gt;0;<br>    For(i,1,50) ans+=dp(i);//5<br>    return ans;<br>}<br>int main(){<br>    freopen(&quot;sg1.in&quot;,&quot;r&quot;,stdin);<br>    freopen(&quot;sg1.out&quot;,&quot;w&quot;,stdout);<br>    bin[0]=1;   For(i,1,60) bin[i]=bin[i-1]&lt;&lt;1;<br>    ll T=read(),x1,y1,x2,y2;<br>    while(T--){<br>        x1=read(),y1=read(),x2=read(),y2=read();<br>        writeln(calc(x2,y2)+calc(x1-1,y1-1)-calc(x1-1,y2)-calc(x2,y1-1));<br>    }<br>}<br></code></pre>
[13:15:59]jzq|<p>1</p>
[13:17:25]SW_Wind|<p><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"><img src="/img/huaji.png" alt="滑稽"></p>
[13:18:08]jzq|<p><img src="http://www.cnblogs.com/blog/customcss/254832.css?v=jroD5byBimIbYvlxEUosQZcSGvA%3d" alt=""></p>
[13:18:37]jzq|<p><img src="http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg" alt=""></p>
[13:21:25]SW_Wind|<p>立華（たちばな）奏（かなで）</p>
[13:22:50]q234rty|<pre><code class="lang-c++">#include &lt;bits/stdc++.h&gt;<br>using namespace std;<br>typedef long long ll;<br>typedef pair&lt;ll,int&gt; pli;<br>int get(ll x,pli* res){<br>    int cur=0;<br>    for(int i=39;i&gt;=0;i--)<br>        if ((x&gt;&gt;i)&amp;1)<br>            res[++cur]=make_pair(x^(1LL&lt;&lt;i),i);<br>    return cur;<br>}<br>pli xl[41],yl[41];<br>ll sum[41];<br>ll calc(pli t){<br>    int tat=64-__builtin_clzll(t.first);<br>    if (tat&lt;=t.second)<br>        return sum[t.second];<br>    if (tat%2){<br>        int w=tat/2;<br>        if (t.second&lt;w){<br>            for(int i=t.second;i&lt;w;i++)<br>                if (((t.first&gt;&gt;i)&amp;1)!=((t.first&gt;&gt;(tat-i-1))&amp;1))<br>                    return 0;<br>            return 1;<br>        }else{<br>            return 1LL&lt;&lt;(t.second-w);<br>        }<br>    }else{<br>        int w=tat/2;<br>        if (t.second&lt;w){<br>            for(int i=t.second;i&lt;w;i++)<br>                if (((t.first&gt;&gt;i)&amp;1)!=((t.first&gt;&gt;(tat-i-1))&amp;1))<br>                    return 0;<br>            return 1;<br>        }else{<br>            return 1LL&lt;&lt;(t.second-w);<br>        }<br>    }<br>}<br>ll work(ll x,ll y){<br>    int tx=get(x,xl),ty=get(y,yl);<br>    ll ans=0;<br>    for(int i=1;i&lt;=tx;i++)<br>        for(int j=1;j&lt;=ty;j++){<br>            //printf(&quot;%lld %lld %d %d\n&quot;,xl[i].first,yl[j].first,xl[i].second,yl[j].second);<br>            pli qwq=make_pair(xl[i].first^yl[j].first,max(xl[i].second,yl[j].second));<br>            ll tat=calc(qwq)&lt;&lt;(min(xl[i].second,yl[j].second));<br>            //printf(&quot;%lld %d %d %lld\n&quot;,qwq.first,qwq.second,min(xl[i].second,yl[j].second),tat);<br>            ans+=tat;<br>        }<br>    return ans;<br>} <br>int main(){<br>    freopen(&quot;sg.in&quot;,&quot;r&quot;,stdin);<br>    freopen(&quot;sg.out&quot;,&quot;w&quot;,stdout);<br>    int T;<br>    sum[0]=1;<br>    for(int i=1;i&lt;=39;i++){<br>        int qwq=(i-1)/2;<br>        sum[i]=sum[i-1]+(1LL&lt;&lt;qwq);<br>        //printf(&quot;%lld\n&quot;,sum[i]);<br>    }<br>    scanf(&quot;%d&quot;,&amp;T);<br>    while(T--){<br>        ll x1,y1,x2,y2;<br>        scanf(&quot;%lld%lld%lld%lld&quot;,&amp;x1,&amp;y1,&amp;x2,&amp;y2);<br>        printf(&quot;%lld\n&quot;,work(x2+1,y2+1)-work(x1,y2+1)-work(x2+1,y1)+work(x1,y1));<br>    }<br>}<br></code></pre>
[13:22:52]SW_Wind|<p><img src="http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg" alt=""></p>
[13:24:31]SW_Wind|<p><ruby><rb>立華</rb><rt>たちばな</rt><rb>奏</rb><rt>かなで</rt></ruby></p>
[13:26:14]SW_Wind|<p><img src="http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg"></p>
[13:26:37]SW_Wind|<p><img src="http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg" style="height:100%;width:100%;"></p>
[13:27:25]SW_Wind|<p><a href="http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg">http://images2015.cnblogs.com/blog/841250/201706/841250-20170611202329872-1998585524.jpg</a></p>
[13:30:42]q234rty|<p><a href="https://cdn.vijos.org/fs/05899bacff92022420eabfc049301166abadce05">patchouli</a></p>
[13:30:55]q234rty|<p><img src="https://cdn.vijos.org/fs/05899bacff92022420eabfc049301166abadce05" alt="233"></p>
[14:45:26]SW_Wind|<p><img src="vijos://fs/a3d0ed6be20127d4e75459b54feb03a867782d58" alt="说明"></p>
[14:46:09]SW_Wind|<p><img src="https://cdn.vijos.org/fs/a3d0ed6be20127d4e75459b54feb03a867782d58" alt="说明"></p>
[14:51:10]SW_Wind|<p><a href="http://live.bilibili.com/pages/1702/pixel-drawing">http://live.bilibili.com/pages/1702/pixel-drawing</a></p>